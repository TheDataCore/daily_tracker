<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Activity Tracker</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .date-display {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .main-content {
            padding: 30px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .activities-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .activity-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }

        .activity-card:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .activity-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .activity-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .activity-icon {
            width: 24px;
            height: 24px;
            fill: #667eea;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #dc3545;
            transition: background 0.3s ease;
        }

        .status-indicator.completed {
            background: #28a745;
        }

        .activity-content {
            margin-bottom: 20px;
        }

        .content-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            border-left: 4px solid #667eea;
        }

        .item-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: #2c3e50;
        }

        .item-description {
            color: #6c757d;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .item-link {
            color: #667eea;
            text-decoration: none;
            font-size: 0.9rem;
            margin-top: 5px;
            display: inline-block;
        }

        .item-link:hover {
            text-decoration: underline;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
        }

        .btn {
            flex: 1;
            padding: 10px 15px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .btn-complete {
            background: #28a745;
            color: white;
        }

        .btn-complete:hover {
            background: #218838;
        }

        .btn-complete:disabled {
            background: #6c757d;
            cursor: not-allowed;
        }

        .btn-next {
            background: #667eea;
            color: white;
        }

        .btn-next:hover {
            background: #5a6fd8;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            width: 0%;
            transition: width 0.3s ease;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #6c757d;
        }

        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            border: 1px solid #f5c6cb;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .activities-section {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ Daily Growth Tracker</h1>
            <div class="date-display" id="currentDate"></div>
        </div>

        <div class="main-content">
            <div id="loadingMessage" class="loading">
                <h3>üìä Loading your daily activities...</h3>
                <p>Please make sure your Excel file is placed in the correct location</p>
            </div>

            <div id="errorMessage" class="error" style="display: none;">
                <h4>‚ö†Ô∏è Error Loading Data</h4>
                <p>Please ensure your Excel file is placed in the 'data' folder and contains the required sheets.</p>
            </div>

            <div id="mainApp" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="dailyProgress"></div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="completedToday">0</div>
                        <div class="stat-label">Completed Today</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="currentStreak">0</div>
                        <div class="stat-label">Current Streak</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalCompleted">0</div>
                        <div class="stat-label">Total Completed</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">75</div>
                        <div class="stat-label">Items Per Category</div>
                    </div>
                </div>

                <div class="activities-section">
                    <!-- DSA Question -->
                    <div class="activity-card">
                        <div class="activity-header">
                            <div class="activity-title">
                                <svg class="activity-icon" viewBox="0 0 24 24">
                                    <path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0L19.2 12l-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>
                                </svg>
                                DSA Challenge
                            </div>
                            <div class="status-indicator" id="dsaStatus"></div>
                        </div>
                        <div class="activity-content" id="dsaContent">
                            <!-- DSA content will be loaded here -->
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-complete" id="dsaComplete">Mark Complete</button>
                            <button class="btn btn-next" id="dsaNext">Next Question</button>
                        </div>
                    </div>

                    <!-- AI Tools -->
                    <div class="activity-card">
                        <div class="activity-header">
                            <div class="activity-title">
                                <svg class="activity-icon" viewBox="0 0 24 24">
                                    <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1.5V3.5L12 5L9 3.5V1.5L3 7V9L9 4.5L12 6L15 4.5L21 9ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10ZM21 15V13L15 18.5V16.5L12 15L9 16.5V18.5L3 13V15L9 19.5L12 18L15 19.5L21 15Z"/>
                                </svg>
                                AI Tool Exploration
                            </div>
                            <div class="status-indicator" id="aiToolStatus"></div>
                        </div>
                        <div class="activity-content" id="aiToolContent">
                            <!-- AI Tool content will be loaded here -->
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-complete" id="aiToolComplete">Mark Complete</button>
                            <button class="btn btn-next" id="aiToolNext">Next Tool</button>
                        </div>
                    </div>

                    <!-- Personal Growth -->
                    <div class="activity-card">
                        <div class="activity-header">
                            <div class="activity-title">
                                <svg class="activity-icon" viewBox="0 0 24 24">
                                    <path d="M12 2L13.09 8.26L18 7L16.74 12L18 17L13.09 15.74L12 22L10.91 15.74L6 17L7.26 12L6 7L10.91 8.26L12 2Z"/>
                                </svg>
                                Personal Growth
                            </div>
                            <div class="status-indicator" id="growthStatus"></div>
                        </div>
                        <div class="activity-content" id="growthContent">
                            <!-- Growth content will be loaded here -->
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-complete" id="growthComplete">Mark Complete</button>
                            <button class="btn btn-next" id="growthNext">Next Concept</button>
                        </div>
                    </div>

                    <!-- GitHub Commit -->
                    <div class="activity-card">
                        <div class="activity-header">
                            <div class="activity-title">
                                <svg class="activity-icon" viewBox="0 0 24 24">
                                    <path d="M12 2A10 10 0 0 0 2 12C2 16.42 4.87 20.17 8.84 21.5C9.34 21.58 9.5 21.27 9.5 21C9.5 20.77 9.5 20.14 9.5 19.31C6.73 19.91 6.14 17.97 6.14 17.97C5.68 16.81 5.03 16.5 5.03 16.5C4.12 15.88 5.1 15.9 5.1 15.9C6.1 15.97 6.63 16.93 6.63 16.93C7.5 18.45 8.97 18 9.54 17.76C9.63 17.11 9.89 16.67 10.17 16.42C7.95 16.17 5.62 15.31 5.62 11.5C5.62 10.39 6 9.5 6.65 8.79C6.55 8.54 6.2 7.5 6.75 6.15C6.75 6.15 7.59 5.88 9.5 7.17C10.29 6.95 11.15 6.84 12 6.84C12.85 6.84 13.71 6.95 14.5 7.17C16.41 5.88 17.25 6.15 17.25 6.15C17.8 7.5 17.45 8.54 17.35 8.79C18 9.5 18.38 10.39 18.38 11.5C18.38 15.32 16.04 16.16 13.81 16.41C14.17 16.72 14.5 17.33 14.5 18.26C14.5 19.6 14.5 20.68 14.5 21C14.5 21.27 14.66 21.59 15.17 21.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/>
                                </svg>
                                Project Development
                            </div>
                            <div class="status-indicator" id="githubStatus"></div>
                        </div>
                        <div class="activity-content">
                            <div class="content-item">
                                <div class="item-title">Daily GitHub Commit</div>
                                <div class="item-description">Make at least one meaningful commit to your project repository today. Keep building consistently!</div>
                            </div>
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-complete" id="githubComplete">Mark Complete</button>
                        </div>
                    </div>

                    <!-- Video Log -->
                    <div class="activity-card">
                        <div class="activity-header">
                            <div class="activity-title">
                                <svg class="activity-icon" viewBox="0 0 24 24">
                                    <path d="M17 10.5V7C17 6.45 16.55 6 16 6H4C3.45 6 3 6.45 3 7V17C3 17.55 3.45 18 4 18H16C16.55 18 17 17.55 17 17V13.5L21 17.5V6.5L17 10.5Z"/>
                                </svg>
                                Instagram Video Log
                            </div>
                            <div class="status-indicator" id="videoStatus"></div>
                        </div>
                        <div class="activity-content">
                            <div class="content-item">
                                <div class="item-title">Daily Progress Video</div>
                                <div class="item-description">Record and share your daily learning journey on Instagram. Inspire others with your consistency!</div>
                            </div>
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-complete" id="videoComplete">Mark Complete</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class DailyTracker {
            constructor() {
                this.data = {
                    aiTools: [],
                    dsaQuestions: [],
                    growthConcepts: []
                };
                this.currentIndices = this.loadProgress();
                this.dailyProgress = this.loadDailyProgress();
                this.init();
            }

            init() {
                this.updateDateDisplay();
                this.loadExcelData();
                this.setupEventListeners();
                this.updateUI();
            }

            updateDateDisplay() {
                const today = new Date();
                const options = { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                };
                document.getElementById('currentDate').textContent = today.toLocaleDateString('en-US', options);
            }

            async loadExcelData() {
                try {
                    const response = await fetch('./data/daily-tracker-data.xlsx');
                    if (!response.ok) {
                        throw new Error('Excel file not found');
                    }
                    
                    const data = await response.arrayBuffer();
                    const workbook = XLSX.read(data, { type: 'array' });

                    // Load AI Tools (Sheet 1)
                    const aiToolsSheet = workbook.Sheets['75-ai-tools-for-developers'];
                    if (aiToolsSheet) {
                        const aiToolsData = XLSX.utils.sheet_to_json(aiToolsSheet);
                        this.data.aiTools = aiToolsData.map(row => ({
                            name: row['Tool name'] || row['Tool Name'] || '',
                            link: row['Link for the tool'] || row['Link'] || '',
                            description: row['Tool description'] || row['Description'] || ''
                        }));
                    }

                    // Load Growth Concepts (Sheet 2)
                    const growthSheet = workbook.Sheets['75-concepts-for-growth'];
                    if (growthSheet) {
                        const growthData = XLSX.utils.sheet_to_json(growthSheet);
                        this.data.growthConcepts = growthData.map(row => ({
                            concept: row['Concept'] || '',
                            implementation: row['Way to implement'] || '',
                            impact: row['Impact in self growth (explained in short paragraph)'] || row['Impact'] || ''
                        }));
                    }

                    // Load DSA Questions (Sheet 3)
                    const dsaSheet = workbook.Sheets['75-DSA-questions'];
                    if (dsaSheet) {
                        const dsaData = XLSX.utils.sheet_to_json(dsaSheet);
                        this.data.dsaQuestions = dsaData.map(row => ({
                            id: row['LeetCode Id'] || row['ID'] || '',
                            title: row['Problem Title'] || row['Title'] || '',
                            link: row['Problem Link'] || row['Link'] || '',
                            explanation: row['Youtube explanation'] || row['Explanation'] || ''
                        }));
                    }

                    document.getElementById('loadingMessage').style.display = 'none';
                    document.getElementById('mainApp').style.display = 'block';
                    this.updateContent();

                } catch (error) {
                    console.error('Error loading Excel data:', error);
                    document.getElementById('loadingMessage').style.display = 'none';
                    document.getElementById('errorMessage').style.display = 'block';
                }
            }

            loadProgress() {
                const saved = localStorage.getItem('dailyTrackerIndices');
                return saved ? JSON.parse(saved) : {
                    dsa: 0,
                    aiTool: 0,
                    growth: 0
                };
            }

            saveProgress() {
                localStorage.setItem('dailyTrackerIndices', JSON.stringify(this.currentIndices));
            }

            loadDailyProgress() {
                const today = new Date().toDateString();
                const saved = localStorage.getItem('dailyProgress');
                const progress = saved ? JSON.parse(saved) : {};
                
                if (!progress[today]) {
                    progress[today] = {
                        dsa: false,
                        aiTool: false,
                        growth: false,
                        github: false,
                        video: false
                    };
                }
                
                return progress;
            }

            saveDailyProgress() {
                localStorage.setItem('dailyProgress', JSON.stringify(this.dailyProgress));
            }

            updateContent() {
                this.updateDSAContent();
                this.updateAIToolContent();
                this.updateGrowthContent();
                this.updateStats();
            }

            updateDSAContent() {
                const content = document.getElementById('dsaContent');
                if (this.data.dsaQuestions.length > 0) {
                    const question = this.data.dsaQuestions[this.currentIndices.dsa];
                    content.innerHTML = `
                        <div class="content-item">
                            <div class="item-title">Problem #${question.id}: ${question.title}</div>
                            <div class="item-description">Solve this LeetCode problem and understand the approach.</div>
                            <a href="${question.link}" target="_blank" class="item-link">üîó View Problem</a>
                            ${question.explanation ? `<a href="${question.explanation}" target="_blank" class="item-link">üì∫ Watch Explanation</a>` : ''}
                        </div>
                    `;
                }
            }

            updateAIToolContent() {
                const content = document.getElementById('aiToolContent');
                if (this.data.aiTools.length > 0) {
                    const tool = this.data.aiTools[this.currentIndices.aiTool];
                    content.innerHTML = `
                        <div class="content-item">
                            <div class="item-title">${tool.name}</div>
                            <div class="item-description">${tool.description}</div>
                            <a href="${tool.link}" target="_blank" class="item-link">üîó Try This Tool</a>
                        </div>
                    `;
                }
            }

            updateGrowthContent() {
                const content = document.getElementById('growthContent');
                if (this.data.growthConcepts.length > 0) {
                    const concept = this.data.growthConcepts[this.currentIndices.growth];
                    content.innerHTML = `
                        <div class="content-item">
                            <div class="item-title">${concept.concept}</div>
                            <div class="item-description"><strong>How to implement:</strong> ${concept.implementation}</div>
                            <div class="item-description"><strong>Impact:</strong> ${concept.impact}</div>
                        </div>
                    `;
                }
            }

            updateStats() {
                const today = new Date().toDateString();
                const todayProgress = this.dailyProgress[today] || {};
                
                const completed = Object.values(todayProgress).filter(Boolean).length;
                document.getElementById('completedToday').textContent = completed;
                
                // Calculate streak
                let streak = 0;
                const dates = Object.keys(this.dailyProgress).sort().reverse();
                for (const date of dates) {
                    const dayProgress = this.dailyProgress[date];
                    const dailyCompleted = Object.values(dayProgress).filter(Boolean).length;
                    if (dailyCompleted >= 3) { // At least 3 activities completed
                        streak++;
                    } else {
                        break;
                    }
                }
                document.getElementById('currentStreak').textContent = streak;
                
                // Total completed
                const total = Object.values(this.dailyProgress).reduce((sum, day) => {
                    return sum + Object.values(day).filter(Boolean).length;
                }, 0);
                document.getElementById('totalCompleted').textContent = total;
                
                // Update progress bar
                const progressPercent = (completed / 5) * 100;
                document.getElementById('dailyProgress').style.width = `${progressPercent}%`;
                
                this.updateStatusIndicators();
            }

            updateStatusIndicators() {
                const today = new Date().toDateString();
                const todayProgress = this.dailyProgress[today] || {};
                
                const indicators = {
                    'dsaStatus': todayProgress.dsa,
                    'aiToolStatus': todayProgress.aiTool,
                    'growthStatus': todayProgress.growth,
                    'githubStatus': todayProgress.github,
                    'videoStatus': todayProgress.video
                };
                
                Object.entries(indicators).forEach(([id, completed]) => {
                    const element = document.getElementById(id);
                    if (completed) {
                        element.classList.add('completed');
                    } else {
                        element.classList.remove('completed');
                    }
                });
            }

            setupEventListeners() {
                // Complete buttons
                document.getElementById('dsaComplete').addEventListener('click', () => this.markComplete('dsa'));
                document.getElementById('aiToolComplete').addEventListener('click', () => this.markComplete('aiTool'));
                document.getElementById('growthComplete').addEventListener('click', () => this.markComplete('growth'));
                document.getElementById('githubComplete').addEventListener('click', () => this.markComplete('github'));
                document.getElementById('videoComplete').addEventListener('click', () => this.markComplete('video'));
                
                // Next buttons
                document.getElementById('dsaNext').addEventListener('click', () => this.nextItem('dsa'));
                document.getElementById('aiToolNext').addEventListener('click', () => this.nextItem('aiTool'));
                document.getElementById('growthNext').addEventListener('click', () => this.nextItem('growth'));
            }

            markComplete(type) {
                const today = new Date().toDateString();
                if (!this.dailyProgress[today]) {
                    this.dailyProgress[today] = {};
                }
                this.dailyProgress[today][type] = true;
                this.saveDailyProgress();
                this.updateStats();
            }

            nextItem(type) {
                const maxIndices = {
                    dsa: this.data.dsaQuestions.length - 1,
                    aiTool: this.data.aiTools.length - 1,
                    growth: this.data.growthConcepts.length - 1
                };
                
                if (this.currentIndices[type] < maxIndices[type]) {
                    this.currentIndices[type]++;
                } else {
                    this.currentIndices[type] = 0; // Loop back to start
                }
                
                this.saveProgress();
                this.updateContent();
            }

            updateUI() {
                this.updateStats();
            }
        }

        // Initialize the app when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            new DailyTracker();
        });
    </script>
</body>
</html>